from flask import Blueprint, jsonify,request
from flask_login import current_user
from app.models import db, Hero
from .services import token_required

api= Blueprint('api',__name__,url_prefix='/api')

# #initial testing route
@api.route('/test', methods=['GET'])
def test():
    return jsonify('testing'),200


#the purpose of this API is going to be to hold a database of Marvel Characters in users 'CART'

@api.route('/heroes',methods=['GET'])
def getHeros():
    heroes= Hero.query.all()
    heroes=[a.to_dict() for a in heroes]#list comprehension version
    #heroes={a.species: a.to_dict() for a in heroes}#dictionary comprehension version
    return jsonify(heroes)

@api.route('/add',methods=["POST"])
@token_required
def createHero():
    try:   
        newdict = request.get_json()        
        h=Hero(newdict)
    except:
        return jsonify({'error':'improper request or body data'}),400
    try:
        db.session.add(h)
        db.session.commit()
    except:
        return jsonify({'error':'Hero already exists in the database'}),400
    return jsonify({'created':h.to_dict()}),200

@api.route('/hero/<string:name>',methods = ['GET'])
def getHeroName(name):
    """
    [GET] retrieving a single hero from the database based on that heroes name
    so we will get an hero name in from the dynamic route URL,
    query the db for that hero, and return if it exists
    """
    print(name)

    hero = Hero.query.filter_by(name=name.title()).first()
    if hero:
        return jsonify(hero.to_dict()), 200
    #otherwise return an error message
    return jsonify({'error':f'The name {name.title()} does not exist in the database.'}),400

@api.route('/update/<string:id>',methods= ['POST'])
#@token_required
def updateHero(id): 
    try:
        newvals = request.get_json()
        print(1)
        hero=Hero.query.get(id)
        print(2)
        hero.from_dict(newvals)
        print(3)
        db.session.commit()
        print(4)
        return jsonify({'Updated Hero': hero.to_dict()})
    except:
        return jsonify({'Request failed':'Invalid request or hero ID does not exist.'}),400   

@api.route('/delete/<string:id>', methods=['DELETE'])
#@token_required
def removeHero(id):
    """
    [DELETE]  accepts a hero ID - if that ID exists in the database, remove that hero and return the removed hero object
    """

    hero = Hero.query.get(id)
    if not hero:
        return jsonify({'Remove Failed': f'No hero with ID {id} in the database.'}), 404
    db.session.delete(hero)
    db.session.commit()
    return jsonify({'Removed hero': hero.to_dict()}),200


@api.route('/upload', methods = ['GET','POST'])
def upload_Heroes():
    
    
    x=({'3-D Man': {'name': '3-D Man', 'api_id': 1011334, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/c/e0/535fecbbb9784.jpg', 'description': ''}, 'A-Bomb (HAS)': {'name': 'A-Bomb (HAS)', 'api_id': 1017100, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/3/20/5232158de5b16.jpg', 'description': "Rick Jones has been Hulk's best bud since day one, but now he's more than a friend...he's a teammate! Transformed by a Gamma energy explosion, A-Bomb's thick, armored skin is just as strong and powerful as it is blue. And when he curls into action, he uses it like a giant bowling ball of destruction! "}, 'A.I.M.': {'name': 'A.I.M.', 'api_id': 1009144, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/6/20/52602f21f29ec.jpg', 'description': 'AIM is a terrorist organization bent on destroying the world.'}, 'Aaron Stack': {'name': 'Aaron Stack', 'api_id': 1010699, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Abomination (Emil Blonsky)': {'name': 'Abomination (Emil Blonsky)', 'api_id': 1009146, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/50/4ce18691cbf04.jpg', 'description': 'Formerly known as Emil Blonsky, a spy of Soviet Yugoslavian origin working for the KGB, the Abomination gained his powers after receiving a dose of gamma radiation similar to that which transformed Bruce Banner into the incredible Hulk.'}, 'Abomination (Ultimate)': {'name': 'Abomination (Ultimate)', 'api_id': 1016823, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Absorbing Man': {'name': 'Absorbing Man', 'api_id': 1009148, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/1/b0/5269678709fb7.jpg', 'description': ''}, 'Abyss': {'name': 'Abyss', 'api_id': 1009149, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/30/535feab462a64.jpg', 'description': ''}, 'Abyss (Age of Apocalypse)': {'name': 'Abyss (Age of Apocalypse)', 'api_id': 1010903, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/3/80/4c00358ec7548.jpg', 'description': ''}, 'Adam Destine': {'name': 'Adam Destine', 'api_id': 1011266, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Adam Warlock': {'name': 'Adam Warlock', 'api_id': 1010354, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/a/f0/5202887448860.jpg', 'description': 'Adam Warlock is an artificially created human who was born in a cocoon at a scientific complex called The Beehive.'}, 'Aegis (Trey Rollins)': {'name': 'Aegis (Trey Rollins)', 'api_id': 1010846, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/e0/4c0035c9c425d.gif', 'description': ''}, 'Aero (Aero)': {'name': 'Aero (Aero)', 'api_id': 1017851, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Agatha Harkness': {'name': 'Agatha Harkness', 'api_id': 1012717, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/c/a0/4ce5a9bf70e19.jpg', 'description': ''}, 'Agent Brand': {'name': 'Agent Brand', 'api_id': 1011297, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/4/60/52695285d6e7e.jpg', 'description': ''}, 'Agent X (Nijo)': {'name': 'Agent X (Nijo)', 'api_id': 1011031, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': "Originally a partner of the mind-altering assassin Black Swan, Nijo spied on Deadpool as part of the Swan's plan to exact revenge for Deadpool falsely taking credit for the Swan's assassination of the Four Winds crime family, which included Nijo's brother."}, 'Agent Zero': {'name': 'Agent Zero', 'api_id': 1009150, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c0042121d790.jpg', 'description': ''}, 'Agents of Atlas': {'name': 'Agents of Atlas', 'api_id': 1011198, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/a0/4ce18a834b7f5.jpg', 'description': ''}, 'Aginar': {'name': 'Aginar', 'api_id': 1011175, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Air-Walker (Gabriel Lan)': {'name': 'Air-Walker (Gabriel Lan)', 'api_id': 1011136, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Ajak': {'name': 'Ajak', 'api_id': 1011176, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/2/80/4c002f35c5215.jpg', 'description': ''}, 'Ajaxis': {'name': 'Ajaxis', 'api_id': 1010870, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/70/4c0035adc7d3a.jpg', 'description': ''}, 'Akemi': {'name': 'Akemi', 'api_id': 1011194, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Alain': {'name': 'Alain', 'api_id': 1011170, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Albert Cleary': {'name': 'Albert Cleary', 'api_id': 1009240, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Albion': {'name': 'Albion', 'api_id': 1011120, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Alex Power': {'name': 'Alex Power', 'api_id': 1010836, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/50/4ce5a385a2e82.jpg', 'description': ''}, 'Alex Wilder': {'name': 'Alex Wilder', 'api_id': 1010755, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/2/c0/4c00377144d5a.jpg', 'description': 'Despite being the only one of the Runaways without any superhuman abilities or tech, Alex Wilder became the de facto leader of the group due to his natural leadership skills and intellect, as well as prodigy-level logic and strategy.'}, 'Alexa Mendez': {'name': 'Alexa Mendez', 'api_id': 1011214, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Alexander Pierce': {'name': 'Alexander Pierce', 'api_id': 1009497, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Alice': {'name': 'Alice', 'api_id': 1014990, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/6/70/4cd061e6d6573.jpg', 'description': ''}, 'Alicia Masters': {'name': 'Alicia Masters', 'api_id': 1009435, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/4c003d40ac7ae.jpg', 'description': ''}, 'Alpha Flight': {'name': 'Alpha Flight', 'api_id': 1010370, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/1/60/52695277ee088.jpg', 'description': ''}, 'Alpha Flight (Ultimate)': {'name': 
'Alpha Flight (Ultimate)', 'api_id': 1011324, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Alvin Maker': {'name': 'Alvin Maker', 'api_id': 1011164, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Amadeus Cho': {'name': 'Amadeus Cho', 'api_id': 1011227, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/3/80/520288b9cb581.jpg', 'description': ''}, 'Amanda Sefton': {'name': 'Amanda Sefton', 'api_id': 1009567, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Amazoness': {'name': 'Amazoness', 'api_id': 1011382, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'American Eagle (Jason Strongbow)': {'name': 'American Eagle (Jason Strongbow)', 'api_id': 1011361, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/80/4ce5a6d8b8f2a.jpg', 'description': ''}, 'Amiko': {'name': 'Amiko', 'api_id': 1009151, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Amora': {'name': 'Amora', 'api_id': 1010672, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Amphibian (Earth-712)': {'name': 'Amphibian (Earth-712)', 'api_id': 1010673, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Amun': {'name': 'Amun', 'api_id': 1010905, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': "Amun is a ruthless teenage assassin, employed by the Sisterhood of the Wasp to serve under the mage Vincent after Araña interrupted the ritual to initiate the Wasp's new chosen one."}, 'Ancient One': {'name': 'Ancient One', 'api_id': 1009152, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/b0/4ce59ea2103ac.jpg', 'description': ''}, 'Ancient One (Ultimate)': {'name': 'Ancient One (Ultimate)', 'api_id': 1016824, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Angel (Angel Salvadore)': {'name': 'Angel (Angel Salvadore)', 'api_id': 1011684, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': 'Driven out of home by her abusive step-father, fourteen-year old Angel Salvadore slept in the woods, where her mutant nature manifested itself in the form of a protective cocoon.'}, 'Angel (Thomas Halloway)': {'name': 'Angel (Thomas Halloway)', 'api_id': 1011396, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/d/03/531769834b15f.jpg', 'description': ''}, 'Angel (Ultimate)': {'name': 'Angel (Ultimate)', 'api_id': 1011338, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/4/50/531769ae4399f.jpg', 'description': ''}, 'Angel (Warren Worthington III)': {'name': 'Angel (Warren Worthington III)', 'api_id': 1009153, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Angela (Aldrif Odinsdottir)': {'name': 'Angela (Aldrif Odinsdottir)', 'api_id': 1017574, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/7/00/545a82f59dd73.jpg', 'description': ''}, 'Anita Blake': {'name': 'Anita Blake', 'api_id': 1010674, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/2/a0/4c0038fa14452.jpg', 'description': 
''}, 'Anne Marie Hoag': {'name': 'Anne Marie Hoag', 'api_id': 1009346, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Annihilus': {'name': 'Annihilus', 'api_id': 1009154, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/f0/528d31f20a2f6.jpg', 'description': ''}, 'Anole': {'name': 'Anole', 'api_id': 1011301, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/20/4c002e635ddd9.jpg', 'description': ''}, 
"Ant-Man (Eric O'Grady)": {'name': "Ant-Man (Eric O'Grady)", 'api_id': 1010802, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/c0/53176aa9df48d.jpg', 'description': ''}, 'Ant-Man (Hank Pym)': {'name': 'Ant-Man (Hank Pym)', 'api_id': 1009155, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Ant-Man (Scott Lang)': {'name': 'Ant-Man (Scott Lang)', 'api_id': 1010801, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/e/20/52696868356a0.jpg', 'description': ''}, 'Anthem': {'name': 'Anthem', 'api_id': 1011208, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Apocalypse': {'name': 'Apocalypse', 'api_id': 1009156, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/e0/526166076a1d0.jpg', 'description': ''}, 'Apocalypse (Ultimate)': {'name': 'Apocalypse (Ultimate)', 'api_id': 1011253, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Aqueduct': {'name': 'Aqueduct', 'api_id': 1010866, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/50/4c0035b3630cd.jpg', 'description': ''}, 'Arachne': {'name': 'Arachne', 'api_id': 1010773, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/70/5269526591794.jpg', 'description': ''}, 'Araٌa': {'name': 'Araٌa', 'api_id': 1017438, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Arcade':
 {'name': 'Arcade', 'api_id': 1009158, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/2/a0/4c0042091ab69.jpg', 'description': ''}, 'Arcana': {'name': 'Arcana', 'api_id': 1010686, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Archangel': {'name': 'Archangel', 'api_id': 1009159, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/8/03/526165ed93180.jpg', 'description': ''}, 'Arclight': {'name': 'Arclight', 'api_id': 1009160, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/f0/4c0042067fd8b.jpg', 'description': ''}, 'Ares': {'name': 'Ares', 'api_id': 1010784, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/c/10/535ff3daea603.jpg', 'description': ''}, 'Argent': {'name': 'Argent', 'api_id': 1011275, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Armadillo': {'name': 'Armadillo', 'api_id': 1011012, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/2/40/4c0032754da02.jpg', 'description': ''}, 'Armor (Hisako Ichiki)': {'name': 'Armor (Hisako Ichiki)', 'api_id': 1011298, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/20/4c002e6cbf990.jpg', 'description': ''}, 'Armory': {'name': 'Armory', 'api_id': 1010827, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Arnim Zola': {'name': 'Arnim Zola', 'api_id': 1009740, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/8/b0/4c00393a4cb7c.jpg', 'description': "The frail, dwarfish Arnim Zola was born in 1930s Switzerland where he became the world's leading biochemist and genetic engineer."}, 'Arsenic': {'name': 'Arsenic', 'api_id': 1010748, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/8/c0/4c00359a2be7b.jpg', 'description': ''}, 'Artiee': {'name': 'Artiee', 'api_id': 1009161, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Asgardian': {'name': 'Asgardian', 'api_id': 1010718, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Askew-Tronics': {'name': 'Askew-Tronics', 'api_id': 1009162, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Asylum': {'name': 'Asylum', 'api_id': 1010835, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Atlas (Team)': {'name': 'Atlas (Team)', 'api_id': 1010336, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Attuma': {'name': 'Attuma', 'api_id': 1011758, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/90/4ce5a862a6c48.jpg', 'description': 'Attuma was born into the tribe of Homo mermanus who eschewed civilization to live as nomadic barbarians. For some unrecorded reason, Attuma was endowed with strength far surpassing that of his people.'}, 'Aurora': {'name': 'Aurora', 'api_id': 1009163, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/10/4c004203f1072.jpg', 'description': ''}, 'Avalanche': {'name': 'Avalanche', 'api_id': 1009164, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/10/4c0042010d383.jpg', 'description': ''}, 'Avengers': {'name': 'Avengers', 'api_id': 1009165, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/20/5102c774ebae7.jpg', 'description': "Earth's Mightiest Heroes joined forces to take on threats that were too big for any one hero to tackle. With a roster that has included Captain America, Iron Man, Ant-Man, Hulk, Thor, Wasp and dozens more over the years, the Avengers have come to be regarded as Earth's No. 1 team."}, 'Avengers (Ultimate)': {'name': 'Avengers (Ultimate)', 'api_id': 1015239, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Azazel (Mutant)': {'name': 'Azazel (Mutant)', 'api_id': 1011766, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 
 'description': 'A mutant from biblical times, Azazel is the ruler of the Neyaphem and claims that the Earth and everything on it belongs to him.'}, 'Balder': {'name': 'Balder', 'api_id': 1011456, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/f0/4ce5a7c2814ba.gif', 'description': ''}, 'Banshee': {'name': 'Banshee', 'api_id': 1009168, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/03/52740e4619f54.jpg', 'description': ''}, 'Banshee (Theresa Rourke)': {'name': 'Banshee (Theresa Rourke)', 'api_id': 1009596, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/c0/4ce5a1a50e56b.jpg', 'description': 'The daughter of former X-Men member Sean Cassidy, a.k.a. Banshee, and Maeve Rourke, Theresa Rourke was raised by her first cousin once removed, mutant terrorist Thomas Cassidy, a.k.a. Black Tom.'}, 'Baron Mordo (Karl Mordo)': {'name': 'Baron Mordo (Karl Mordo)', 'api_id': 1011778, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/90/4ce5a86dba8a8.jpg', 'description': 'Born in 1921, Karl Mordo was the son of Nikolai Mordo.  He vowed that, as the second Baron Mordo, he would achieve his father’s hopes and more.'}, 'Baron Strucker': {'name': 'Baron Strucker', 'api_id': 1009169, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/8/80/4c0041fb5a90d.jpg', 'description': ''}, 'Baron Zemo (Heinrich Zemo)': {'name': 'Baron Zemo (Heinrich Zemo)', 'api_id': 1009170, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/9/60/4c0041f84c9fe.jpg', 'description': ''}, 'Baron Zemo (Helmut Zemo)': {'name': 'Baron Zemo (Helmut Zemo)', 'api_id': 1010906, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/a0/4c0035890fb0a.jpg', 'description': ''}, "Baroness S'Bak": {'name': "Baroness S'Bak", 'api_id': 1011137, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Barracuda': {'name': 'Barracuda', 'api_id': 1011354, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Bart Rozum': {'name': 'Bart Rozum', 'api_id': 1009550, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': ''}, 'Bastion': {'name': 'Bastion', 'api_id': 1009171, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/d/80/52695253215f4.jpg', 'description': ''}, 'Batroc the Leaper': {'name': 'Batroc the Leaper', 'api_id': 1009172, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/c/80/4ce59eb840da5.gif', 'description': ''}, 'Battering Ram': {'name': 'Battering Ram', 'api_id': 1009173, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif', 'description': ''}, 'Battlestar': {'name': 'Battlestar', 'api_id': 1011785, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg', 'description': 'Lamar Hoskins was once a wrestler who was given superhuman strength by the Power Broker.'}, 'Beak': {'name': 'Beak', 'api_id': 1009174, 'image': 'http://i.annihil.us/u/prod/marvel/i/mg/5/90/4c0040b8329ad.jpg', 'description': ''}} )
    for i in x:
        y=Hero(x[i],userid=current_user.id)
        db.session.add(y)
    db.session.commit()
    return jsonify('Added heroes'),200

